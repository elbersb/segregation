<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Entropy-Based Segregation Indices • segregation</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Entropy-Based Segregation Indices">
<meta property="og:description" content="Computes entropy-based segregation indices, as developed by
    Theil (1971) &lt;isbn:978-0471858454&gt;, with a focus on
    the Mutual Information Index (M) and Theil's Information Index (H).
    The M, further described by Mora and Ruiz-Castillo (2011) &lt;doi:10.1111/j.1467-9531.2011.01237.x&gt;
    and Frankel and Volij (2011) &lt;doi:10.1016/j.jet.2010.10.008&gt;,
    is a measure of segregation that is highly decomposable. The package provides
    tools to decompose the index by units and groups (local segregation),
    and by within and between terms.
    Includes standard error estimation by bootstrapping.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">segregation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/elbersb/segregation">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="segregation" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#segregation" class="anchor"></a>segregation</h1></div>

<p>An R package to calculate and decompose entropy-based, multigroup segregation indices, with a focus on the Mutual Information Index (M) and Theil’s Information Index (H).</p>
<ul>
<li>calculate total, between, within, and local segregation</li>
<li>decompose differences in total segregation over time</li>
<li>estimate standard errors via bootstrapping</li>
<li>every method returns a <a href="http://vita.had.co.nz/papers/tidy-data.html">tidy</a> data frame for easy post-processing and plotting</li>
<li>it’s fast, because it uses the <a href="https://github.com/Rdatatable/data.table/wiki"><code>data.table</code></a> package internally</li>
</ul>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The package provides an easy way to calculate segregation measures, based on the Mutual Information Index (M) and Theil’s Entropy Index (H).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(segregation)</a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># example dataset with fake data provided by the package</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw"><a href="reference/mutual_total.html">mutual_total</a></span>(schools00, <span class="st">"race"</span>, <span class="st">"school"</span>, <span class="dt">weight =</span> <span class="st">"n"</span>)</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt;   stat   est</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; M    M 0.426</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; H    H 0.419</span></a></code></pre></div>
<p>Standard errors in all functions can be estimated via boostrapping:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="reference/mutual_total.html">mutual_total</a></span>(schools00, <span class="st">"race"</span>, <span class="st">"school"</span>, <span class="dt">weight =</span> <span class="st">"n"</span>, <span class="dt">se =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt;   stat   est       se</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; M    M 0.429 0.000935</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; H    H 0.422 0.000985</span></a></code></pre></div>
<p>Decompose segregation into a between-state and a within-state term (the sum of these equals total segregation):</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># between states</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw"><a href="reference/mutual_total.html">mutual_total</a></span>(schools00, <span class="st">"race"</span>, <span class="st">"state"</span>, <span class="dt">weight =</span> <span class="st">"n"</span>)</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt;   stat    est</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt; M    M 0.0992</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt; H    H 0.0977</span></a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co"># within states</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="kw"><a href="reference/mutual_total.html">mutual_total</a></span>(schools00, <span class="st">"race"</span>, <span class="st">"school"</span>, <span class="dt">within =</span> <span class="st">"state"</span>, <span class="dt">weight =</span> <span class="st">"n"</span>)</a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt;   stat   est</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; M    M 0.326</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt; H    H 0.321</span></a></code></pre></div>
<p>Local segregation (<code>ls</code>) is a decomposition by units (here racial groups). The sum of the proportion-weighted local segregation scores equals M:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">(local &lt;-<span class="st"> </span><span class="kw"><a href="reference/mutual_local.html">mutual_local</a></span>(schools00, <span class="dt">group =</span> <span class="st">"school"</span>, <span class="dt">unit =</span> <span class="st">"race"</span>, <span class="dt">weight =</span> <span class="st">"n"</span>,</a>
<a class="sourceLine" id="cb4-2" title="2">             <span class="dt">se =</span> <span class="ot">TRUE</span>, <span class="dt">wide =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt;     race    ls    ls_se       p     p_se</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt; 1  asian 0.667 0.006736 0.02261 0.000124</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt; 2  black 0.885 0.002595 0.19005 0.000465</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; 3   hisp 0.782 0.002582 0.15179 0.000317</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; 4  white 0.184 0.000725 0.62810 0.000687</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt; 5 native 1.528 0.022868 0.00745 0.000135</span></a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(local<span class="op">$</span>p <span class="op">*</span><span class="st"> </span>local<span class="op">$</span>ls)</a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt; [1] 0.429</span></a></code></pre></div>
<p>Decompose the difference in M between 2000 and 2005, using iterative proportional fitting (IPF) and the Shapley decomposition, as suggested by Karmel and Maclachlan (1988) and Deutsch et al. (2006):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="reference/mutual_difference.html">mutual_difference</a></span>(schools00, schools05, <span class="dt">group =</span> <span class="st">"race"</span>, <span class="dt">unit =</span> <span class="st">"school"</span>,</a>
<a class="sourceLine" id="cb5-2" title="2">                  <span class="dt">weight =</span> <span class="st">"n"</span>, <span class="dt">method =</span> <span class="st">"shapley"</span>)</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt;                          stat      est</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt; M1                         M1  0.42554</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; M2                         M2  0.41339</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; diff                     diff -0.01215</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt; additions           additions -0.00341</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; removals             removals -0.01141</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; group_marginal group_marginal  0.01623</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt; unit_marginal   unit_marginal -0.01674</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="co">#&gt; structural         structural  0.00318</span></a></code></pre></div>
<p>Find more information in the <a href="https://elbersb.de/segregation">documentation</a>.</p>
</div>
<div id="how-to-install" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-install" class="anchor"></a>How to install</h2>
<p>To install the package from CRAN, use</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"segregation"</span>)</a></code></pre></div>
<p>To install the development version, use</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"elbersb/segregation"</span>)</a></code></pre></div>
</div>
<div id="papers-using-the-mutual-information-index" class="section level2">
<h2 class="hasAnchor">
<a href="#papers-using-the-mutual-information-index" class="anchor"></a>Papers using the Mutual information index</h2>
<p>(list incomplete)</p>
<p>DiPrete, T. A., Eller, C. C., Bol, T., &amp; van de Werfhorst, H. G. (2017). School-to-Work Linkages in the United States, Germany, and France. American Journal of Sociology, 122(6), 1869-1938. <a href="https://doi.org/10.1086/691327" class="uri">https://doi.org/10.1086/691327</a></p>
<p>Forster, A. G., &amp; Bol, T. (2017). Vocational education and employment over the life course using a new measure of occupational specificity. Social Science Research, 70, 176-197. <a href="https://doi.org/10.1016/j.ssresearch.2017.11.004" class="uri">https://doi.org/10.1016/j.ssresearch.2017.11.004</a></p>
<p>Van Puyenbroeck, T., De Bruyne, K., &amp; Sels, L. (2012). More than ‘Mutual Information’: Educational and sectoral gender segregation and their interaction on the Flemish labor market. Labour Economics, 19(1), 1-8. <a href="https://doi.org/10.1016/j.labeco.2011.05.002" class="uri">https://doi.org/10.1016/j.labeco.2011.05.002</a></p>
<p>Mora, R., &amp; Ruiz-Castillo, J. (2003). Additively decomposable segregation indexes. The case of gender segregation by occupations and human capital levels in Spain. The Journal of Economic Inequality, 1(2), 147-179. <a href="https://doi.org/10.1023/A:1026198429377" class="uri">https://doi.org/10.1023/A:1026198429377</a></p>
</div>
<div id="references-on-entropy-based-segregation-indices" class="section level2">
<h2 class="hasAnchor">
<a href="#references-on-entropy-based-segregation-indices" class="anchor"></a>References on entropy-based segregation indices</h2>
<p>Deutsch, J., Flückiger, Y. &amp; Silber, J. (2009). Analyzing Changes in Occupational Segregation: The Case of Switzerland (1970–2000), in: Yves Flückiger, Sean F. Reardon, Jacques Silber (eds.) Occupational and Residential Segregation (Research on Economic Inequality, Volume 17), 171–202.</p>
<p>Theil, H. (1971). Principles of Econometrics. New York: Wiley.</p>
<p>Frankel, D. M., &amp; Volij, O. (2011). Measuring school segregation. Journal of Economic Theory, 146(1), 1-38. <a href="https://doi.org/10.1016/j.jet.2010.10.008" class="uri">https://doi.org/10.1016/j.jet.2010.10.008</a></p>
<p>Mora, R., &amp; Ruiz-Castillo, J. (2009). The Invariance Properties of the Mutual Information Index of Multigroup Segregation, in: Yves Flückiger, Sean F. Reardon, Jacques Silber (eds.) Occupational and Residential Segregation (Research on Economic Inequality, Volume 17), 33-53.</p>
<p>Mora, R., &amp; Ruiz-Castillo, J. (2011). Entropy-based Segregation Indices. Sociological Methodology, 41(1), 159–194. <a href="https://doi.org/10.1111/j.1467-9531.2011.01237.x" class="uri">https://doi.org/10.1111/j.1467-9531.2011.01237.x</a></p>
<p>Karmel, T. &amp; Maclachlan, M. (1988). Occupational Sex Segregation — Increasing or Decreasing? Economic Record 64: 187-195. <a href="https://doi.org/10.1111/j.1475-4932.1988.tb02057.x" class="uri">https://doi.org/10.1111/j.1475-4932.1988.tb02057.x</a></p>
<p>Watts, M. The Use and Abuse of Entropy Based Segregation Indices. Working Paper. URL: <a href="http://www.ecineq.org/ecineq_lux15/FILESx2015/CR2/p217.pdf" class="uri">http://www.ecineq.org/ecineq_lux15/FILESx2015/CR2/p217.pdf</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=segregation">https://​cloud.r-project.org/​package=segregation</a>
</li>
<li>Browse source code at <br><a href="https://github.com/elbersb/segregation">https://​github.com/​elbersb/​segregation</a>
</li>
<li>Report a bug at <br><a href="http://github.com/elbersb/segregation/issues">http://​github.com/​elbersb/​segregation/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Benjamin Elbers <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5392-3448" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=segregation"><img src="https://www.r-pkg.org/badges/version/segregation" alt="CRAN Version"></a></li>
<li><a href="https://travis-ci.org/elbersb/segregation"><img src="https://travis-ci.org/elbersb/segregation.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/gh/elbersb/segregation"><img src="https://codecov.io/gh/elbersb/segregation/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Benjamin Elbers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
